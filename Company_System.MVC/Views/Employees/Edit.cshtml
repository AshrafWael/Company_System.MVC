@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
    
*@
@{
    SelectList listItems = new SelectList(Model.Departments, "Id", "Name");
}

@model EmployeeWithDepartmentVM
@* 
<form method="post" action="/Employees/Edit/@Model.Employee.Id">
    <label>Name</label>
    <input type="text" name="Name" value="@Model.Employee.Name" class="form-control" />

    <label>Salary</label>
    <input type="number" name="Salary" value="@Model.Employee.Salary" class="form-control" />

    <label>Age</label>
    <input type="number" name="Age" value="@Model.Employee.Age" class="form-control" />

    <label>Image</label>
    <input type="file" name="ImgUrl" class="form-control" />
    <img src="~/Images/@Model.Employee.ImgUrl" style="width:100px ; height:100;" />
    <label>Department</label>
    @* <input type="text" name="DepartmentId" class="form-control" /> *@
  @*   <select name="DepartmentId" class="form-control">
        @foreach (DepartmentVm dept in Model.Departments)
        {
            if (dept.Id == Model.Employee.DepartmentId)
            {
                <option value="@dept.Id" selected>@dept.Name</option>
            }
            else
            {
                <option value="@dept.Id">@dept.Name</option>
            }
        }
    </select>
    <input type="submit" value="Save" class="btn btn-dark" />
</form>


<a href="/Employees/GetAllVM" class="btn btn-primary">Back To List</a> *@

@* 
<form method="post" action="/Employees/Create">
    @Html.LabelFor(a=>a.Employee.Name,"Emp Name")
    @Html.TextBoxFor(a=>a.Employee.Name,null,new{ @class="form-control"})

    @Html.LabelFor(a=>a.Employee.Salary,"Emp Salary")
    @Html.TextBoxFor(a=>a.Employee.Salary,null,new{ @class="form-control"})

    @Html.LabelFor(a=>a.Employee.Age,"Employee Age")
    @Html.TextBoxFor(a=>a.Employee.Age ,null,new{ @class="form-control"})

    <label>Image</label>
    <input type="file" name="ImgUrl" class="form-control" />
    <label>Department</label>
    @* <input type="text" name="DepartmentId" class="form-control" /> *@
@*     <select name="DepartmentId" class="form-control">
        @foreach (DepartmentVm dept in Model.Departments)
        {
            <option value="@dept.Id">@dept.Name</option>
        }
    </select>
    <input type="submit" value="Save" class="btn btn-dark" />
</form>
@Html.ActionLink("Back To List","GetAllVM","Employees",null,new {@class="btn btn-primary"})
<a href="/Employees/GetAllVM" class="btn btn-primary">Back To List</a>  *@



@* <form method="post" action="/Employees/Create">
    @Html.LabelFor(a=>a.Employee.Name,"Emp Name")
    @Html.Editor("Name",null,new{ @class="form-control"})
    @Html.EditorFor(a=>a.Employee.Name,null,new{ @class="form-control"})

    @Html.LabelFor(a=>a.Employee.Salary,"Emp Salary")
    @Html.Editor("Salary",null,new{ @class="form-control"})
    @Html.EditorFor(a=>a.Employee.Salary,null,new{ @class="form-control"})

    @Html.LabelFor(a=>a.Employee.Age,"Employee Age")
    @Html.Editor("Age" ,null,new{ @class="form-control"})
    @Html.EditorFor(a=>a.Employee.Age ,null,new{ @class="form-control"})

    <label>Image</label>
    <input type="file" name="ImgUrl" class="form-control" />
    <label>Department</label> *@
    @* <input type="text" name="DepartmentId" class="form-control" /> *@
@*     <select name="DepartmentId" class="form-control">
        @foreach (DepartmentVm dept in Model.Departments)
        {
            <option value="@dept.Id">@dept.Name</option>
        }
    </select>
    <input type="submit" value="Save" class="btn btn-dark" />
</form>
@Html.ActionLink("Back To List","GetAllVM","Employees",null,new {@class="btn btn-primary"})
<a href="/Employees/GetAllVM" class="btn btn-primary">Back To List</a> *@



<form method="post" asp-controller="Employees" asp-action="Edit" asp-route-id="@Model.Employee.Id">
    <label>Name</label>
    <input asp-for="Employee.Name" class="form-control" />
    <input type="hidden" asp-for="Employee.Id"/>

    <label>Age</label>
    <input asp-for="Employee.Age"  class="form-control" />

    <label>Image</label>
    <input asp-for="Employee.ImgUrl" type="file" class="form-control" />
    <img src="~/Images/@Model.Employee.ImgUrl" style="width:100px ; height:100;" />
    <label>Department</label>
    @* <input type="text" name="DepartmentId" class="form-control" /> *@
@*     <select name="DepartmentId" class="form-control">
        @foreach (DepartmentVm dept in Model.Departments)
        {
            if (dept.Id == Model.Employee.DepartmentId)
            {
                <option value="@dept.Id" selected>@dept.Name</option>
            }
            else
            {
                <option value="@dept.Id">@dept.Name</option>
            }
        }
    </select> *@
  @*   <select asp-for="Employee.DepartmentId" asp-items="listItems" class="form-control">
    </select> *@

    <input type="submit" value="Save" class="btn btn-dark" />
</form>


<a asp-controller="Employees" asp-action="GetAllVM" class="btn btn-primary">Back To List</a>